version: "2.0"

rules:

- rule: Say goodbye anytime the user says goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Say 'I am a bot' anytime the user challenges
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

# Check if it is the user's first connection. Ask for his name if it is.
- rule: First bot interaction with the user
  steps:
  - intent: start_intent
  - action: utter_greet
  - action: action_check_nickname
  wait_for_user_input: false

# Check if it is the user's first connection. Ask for his name if it is.
- rule: New bot interaction with user after previous messages
  steps:
  - intent: new_start_intent
  - action: utter_greet_again
  - action: action_check_nickname

- rule: Bot offers assistance to the user after being greeted
  steps:
  - intent: greet
  - action: utter_offers_help
  - action: action_listen

- rule: Ask user for confirmation to logout
  steps:
  - intent: logout
  - action: utter_logout_confirmation

- rule: The user has requested to log in and the data collection form is started
  steps:
  - intent: login
  - action: action_check_session_login
  wait_for_user_input: false

- rule: The user enters his or her data in the form to log in
  condition:
  - active_loop: login_form
  steps:
  - action: login_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_login

- rule: The user has requested to register and the data collection form is started
  steps:
  - intent: signup
  - action: action_check_session_signup
  wait_for_user_input: false

- rule: The user enters his data in the form to register on the website
  condition:
  - active_loop: signup_form
  steps:
  - action: signup_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: action_signup

- rule: The user enters the document to be opened
  steps:
  - active_loop: document_selection_form
  - active_loop: null
  - slot_was_set:
      - requested_slot: null
  - action: action_open_document

# change the layout
- rule: User wants to change the layout, without specifying to which one
  steps:
  - intent: change_layout
  - action: utter_change_layout

- rule: User wants to change the layout to Tree
  steps:
  - intent: change_layout_tree
  - action: utter_change_layout_tree

- rule: User wants to change the layout to Force
  steps:
  - intent: change_layout_force
  - action: utter_change_layout_force

- rule: User wants to change the layout to Radial
  steps:
  - intent: change_layout_radial
  - action: utter_change_layout_radial

- rule: User wants to change the layout to Circle Packing
  steps:
  - intent: change_layout_treeMap
  - action: utter_change_layout_treeMap

- rule: Displays in the chat the message indicated by the User (client side)
  steps:
  - intent: generate_response_message
  - action: action_generate_response_message

# OR / AND highlighting
- rule: User wants to change the highlighting option to AND
  steps:
  - intent: switch_and
  - action: utter_switch_and

- rule: User wants to change the highlighting option to OR
  steps:
  - intent: switch_or
  - action: utter_switch_or

# highlight toxicity
- rule: User wants to see non toxic nodes
  steps:
  - intent: non_toxic
  - action: utter_non_toxic

- rule: User wants to see mildly toxic nodes
  steps:
  - intent: mildly_toxic
  - action: utter_mildly_toxic

- rule: User wants to see toxic nodes
  steps:
  - intent: toxic
  - action: utter_toxic

- rule: User wants to see very toxic nodes
  steps:
  - intent: very_toxic
  - action: utter_very_toxic

# highlight positive negative neutral stance
- rule: User wants to see positive stance nodes
  steps:
  - intent: positive_stance
  - action: utter_positive_stance

- rule: User wants to see negative stance nodes
  steps:
  - intent: negative_stance
  - action: utter_negative_stance

- rule: User wants to see neutral stance nodes
  steps:
  - intent: neutral_stance
  - action: utter_neutral_stance

# highlight targets
- rule: User wants to see target person nodes
  steps:
  - intent: target_person
  - action: utter_target_person

- rule: User wants to see target group nodes
  steps:
  - intent: target_group
  - action: utter_target_group

- rule: User wants to see stereotype nodes
  steps:
  - intent: stereotype
  - action: utter_stereotype

- rule: User wants to select all targets
  steps:
  - intent: target_all
  - action: utter_target_all

# highlight features
- rule: User wants to see constructiveness nodes
  steps:
  - intent: constructiveness
  - action: utter_constructiveness


- rule: User wants to see argumentation nodes
  steps:
  - intent: argumentation
  - action: utter_argumentation

- rule: User wants to see sarcasm nodes
  steps:
  - intent: sarcasm
  - action: utter_sarcasm

- rule: User wants to see mockery nodes
  steps:
  - intent: mockery
  - action: utter_mockery

- rule: User wants to see intolerance nodes
  steps:
  - intent: intolerance
  - action: utter_intolerance

- rule: User wants to see improper language nodes
  steps:
  - intent: improper_language
  - action: utter_improper_language

- rule: User wants to see insult nodes
  steps:
  - intent: insult
  - action: utter_insult

- rule: User wants to see aggressiveness nodes
  steps:
  - intent: aggressiveness
  - action: utter_aggressiveness

- rule: User wants to select all features
  steps:
  - intent: features_all
  - action: utter_features_all

# complex intent stories
# highlight (for now) longest thread, largest thread, widest thread
- rule: User wants to see the longest thread
  steps:
    - intent: longest_thread
    - action: utter_longest_thread

- rule: User wants to see the widest level
  steps:
    - intent: widest_level
    - action: utter_widest_level